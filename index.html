<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Journey From Colorado to Boone</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

  <!-- Stylesheets -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />

  <style>
    body {
      margin: 0;
      padding: 0;
      background: whitesmoke;
      font-family: "Times New Roman", Times, serif;
      color: #3d3d3d;
    }

    h1 {
      position: absolute;
      margin-top: 0;
      top: 10px;
      left: 45px;
      font-size: 2em;
      font-family: "Times New Roman", Times, serif;
      letter-spacing: .04em;
      padding: 10px 15px;
      background: rgba(256, 256, 256);
      border: 1px solid grey;
      border-radius: 3px;
      z-index: 800;
    }

    h2 {
      font-family: "Times New Roman", Times, serif;
      letter-spacing: .04em;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }

    section {
      position: absolute;
      bottom: 0;
      left: 10px;
      width: 300px;
      margin: 20px auto;
      padding: 0 15px;
      background: rgba(256, 256, 256);
      border: 1px solid grey;
      border-radius: 3px;
      z-index: 800;
    }

    p {
      font-size: .9em;
      line-height: 1.5em;
      font-family: "Times New Roman", Times, serif;
    }

    a {
      color: #005daa;
      text-decoration: none;
      font-family: "Times New Roman", Times, serif;
    }

    a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>

  <h1>Journey From Colorado to Boone</h1>

  <div id='map'></div>

  <section>
    <h2>A two-day road trip from Colorado back to campus at Appalachian State University.</h2>

    <p>This journey takes about 22 hours of straight driving, but my road buddy and I did it in about 28 hours after stopping for the night. We were exhausted but made it safely to Boone!</p>

    <p><strong>Nicholas Grizales</strong></p>
  </section>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>

  <script>
    // Initialize the map
    var map = L.map('map', {
      center: [36.08403, -81.83015],
      zoom: 6
    });

    // Add Esri basemap
    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, and the GIS User Community'
    }).addTo(map);

    // ---- GeoJSON data directly embedded ----
    var data = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "name": "Start: Home in Colorado" },
          "geometry": {
            "type": "Point",
            "coordinates": [-104.63908118650899, 38.73663095756979]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Gas Stop 1" },
          "geometry": {
            "type": "Point",
            "coordinates": [-101.05371297318956, 39.361825393087344]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Overnight Stop" },
          "geometry": {
            "type": "Point",
            "coordinates": [-92.03380307042228, 38.56400286412739]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Gas Stop 2" },
          "geometry": {
            "type": "Point",
            "coordinates": [-87.07074524854323, 36.14673688061953]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Destination: Boone, NC" },
          "geometry": {
            "type": "Point",
            "coordinates": [-81.6710, 36.2168]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Driving Route" },
          "geometry": {
            "type": "LineString",
            "coordinates": [
              [-104.63908118650899, 38.73663095756979],
              [-101.05371297318956, 39.361825393087344],
              [-92.03380307042228, 38.56400286412739],
              [-87.07074524854323, 36.14673688061953],
              [-81.6710, 36.2168]
            ]
          }
        }
      ]
    };

    // Add the route (LineString)
    var myRoute = L.geoJSON(data, {
      filter: feature => feature.geometry.type === "LineString",
      style: {
        color: "#005DAA",
        weight: 6,
        opacity: 0.8,
        dashArray: "10,6"
      }
    }).addTo(map);

    // Add the stops (Points)
    var myStops = L.geoJSON(data, {
      filter: feature => feature.geometry.type === "Point",
      pointToLayer: (feature, latlng) => {
        return L.circleMarker(latlng, {
          radius: 6,
          fillColor: "#FF0000",
          color: "#fff",
          weight: 1,
          opacity: 1,
          fillOpacity: 0.9
        }).bindPopup(feature.properties.name);
      }
    }).addTo(map);

    // Adjust map to fit the entire route
    map.fitBounds(myRoute.getBounds());
  </script>
</body>
</html>

